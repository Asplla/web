<template>
  <header class="wx-header transform">
    <div class="wx-header-wapper" :class="{'transparent' : isScroll, 'scroll' : !isScroll}">
      <a class="wx-header-logo transform transition-all" href="/">
        <svg aria-hidden="true" viewBox="0 0 2526.1 808" version="1.1" width="113" height="36" class="result-success-logo" data-view-component="true">
          <g xmlns="http://www.w3.org/2000/svg">
            <path class="st0" d="M723.8,84.4C647.5,8.5,537.9,0,404,0C269.9,0,160.1,8.6,83.9,84.7S0,270.4,0,404.4S7.7,648,84,724.1   S269.9,808,404,808s243.8-7.7,320-83.9s84-185.8,84-319.8C808,270.2,800.2,160.5,723.8,84.4z M395.8,432.8   c-35.3,55.5-83.3,103.4-140,138.8c-18.9,11.4-41.6,11.4-60.6,1.3c-18.9-10.1-30.3-29-31.5-50.5c0-21.4,11.4-41.6,30.3-51.7   c29-17.7,55.5-40.4,77-66.9c-22.7-26.5-47.9-47.9-77-66.9c-29-16.4-37.8-53-21.4-80.7c16.4-27.7,54.2-36.6,82-20.2   c56.8,35.3,103.4,82,140,137.5C407.2,391.2,407.2,415.1,395.8,432.8z M596.4,555.2H452.6c-26.5,0-47.9-12.6-47.9-37.8   s21.4-37.8,47.9-37.8h143.8c26.5,0,47.9,12.6,47.9,37.8C644.3,542.5,622.9,555.2,596.4,555.2z"/>
            <g>
              <path class="st1" d="M1063.6,575.6c-4,0-6.8-1.9-8.3-5.6l-84.9-232.4c-2.2-5.6-0.2-8.3,6-8.3h74.2c4.3,0,7.1,2,8.3,6l35.3,115    l46.4-116c1.5-3.7,4.3-5.6,8.3-5.6h43.6c4.3,0,7.1,1.9,8.3,5.6l43.6,116.4l38-115.5c1.2-4,4-6,8.3-6h65.4c5.6,0,7.6,2.8,6,8.3    l-85.4,232.4c-0.9,3.7-3.6,5.6-7.9,5.6H1225c-4.3,0-7.1-2-8.3-6l-48.7-129l-52,129.4c-2.2,3.7-5,5.6-8.3,5.6L1063.6,575.6    L1063.6,575.6z"/>
              <path class="st1" d="M1383.2,575.6c-2.8,0-4.6-0.9-5.3-2.8c-0.8-1.9-0.4-3.9,1.2-6l80.2-116.9l-77.5-111.8    c-1.6-2.5-1.9-4.6-0.9-6.3c0.9-1.7,2.8-2.6,5.6-2.6h74.7c4,0,7,1.6,8.8,4.6l39.9,61.2l39.9-61.2c2.2-3.1,5.3-4.6,9.3-4.6h70.5    c3.1,0,5,0.9,5.8,2.6s0.4,3.8-1.2,6.3l-77.5,111.8l80.7,116.9c1.5,2.2,1.9,4.2,0.9,6c-0.9,1.9-2.8,2.8-5.6,2.8H1558    c-3.7,0-6.5-1.5-8.3-4.6l-42.7-66.8l-44.1,66.8c-1.9,3.1-4.8,4.6-8.8,4.6H1383.2z"/>
              <path class="st1" d="M1681,575.6c-5,0-7.4-2.5-7.4-7.4v-333c0-4.9,2.5-7.4,7.4-7.4h68.7c4.9,0,7.4,2.5,7.4,7.4v118.7    c8.7-9.9,18.9-17.2,30.8-22s25-7.2,39.2-7.2c28.4,0,50.6,8,66.3,23.9c15.8,15.9,23.7,38.1,23.7,66.6v153.1c0,5-2.5,7.4-7.4,7.4    H1841c-4.9,0-7.4-2.5-7.4-7.4v-122c0-17.3-2.8-29.7-8.3-37.1c-5.6-7.4-14.5-11.1-26.9-11.1c-12.1,0-22,4.5-29.7,13.5    s-11.6,22.6-11.6,40.8v116c0,5-2.5,7.4-7.4,7.4H1681V575.6z"/>
              <path class="st1" d="M2058.1,580.3c-29.1,0-51.5-8-67.3-24.1s-23.7-38.2-23.7-66.3V336.3c0-4.6,2.5-7,7.4-7h68.7    c4.9,0,7.4,2.3,7.4,7v122.5c0,17,2.8,29.3,8.3,36.9c5.6,7.6,14.4,11.4,26.4,11.4c12.1,0,21.9-4.6,29.5-13.7s11.4-22.6,11.4-40.6    V336.3c0-4.6,2.5-7,7.4-7h68.7c4.9,0,7.4,2.3,7.4,7v231.9c0,5-2.5,7.4-7.4,7.4h-58c-5.3,0-7.9-2.5-7.9-7.4l-0.9-22.3    c-9,11.4-20,20-33.2,25.7C2089.2,577.4,2074.5,580.3,2058.1,580.3z"/>
              <path class="st1" d="M2411.5,580.3c-31.2,0-55.8-11.3-73.8-33.9l-0.9,21.8c0,5-2.6,7.4-7.9,7.4h-58c-4.9,0-7.4-2.5-7.4-7.4v-333    c0-4.9,2.5-7.4,7.4-7.4h68.7c4.9,0,7.4,2.5,7.4,7.4v113.2c17.3-15.8,38.8-23.7,64.5-23.7c22.9,0,42.9,5.3,60.1,16    c17.2,10.7,30.5,25.5,40.1,44.5s14.4,41.4,14.4,67c0,25.4-4.8,47.7-14.4,67c-9.6,19.3-23,34.3-40.1,45    C2454.4,574.9,2434.4,580.3,2411.5,580.3z M2391.1,507c15.1,0,27.4-5.1,36.6-15.3s13.9-23.3,13.9-39.4s-4.6-29.1-13.9-39.2    c-9.3-10-21.5-15.1-36.6-15.1c-15.2,0-27.4,5-36.6,15.1c-9.3,10.1-13.9,23.1-13.9,39.2s4.6,29.2,13.9,39.4S2376,507,2391.1,507z"/>
            </g>
          </g>
        </svg>
        <span>在线文档</span>
      </a>
      <div class="wx-header-nav transition-all">
        <ul>
          <li class="active"> 
            <RouterLink to="/">首页</RouterLink>
          </li>
          <li>
            <RouterLink to="iptv">IPTV</RouterLink>
          </li>
          <li>
            <a href="https://docs.wxss.fit" target="_blank">文档</a>
          </li>
        </ul>
      </div>
      <t-button theme="base" class="wx-header-status transition-all">
        <template #icon>
          <IconBrandRedux size="18"/>
        </template>
        系统运行状态
      </t-button>
      <svg width="24" height="24" viewBox="0 0 24 24" class="wx-header-nav-toggler transform transition-all" fill="var(--weui-FG-0)">
        <path class="center transform" d="M4 11.5C4 11.2239 4.22386 11 4.5 11H19.5C19.7761 11 20 11.2239 20 11.5V12.5C20 12.7761 19.7761 13 19.5 13H4.5C4.22386 13 4 12.7761 4 12.5V11.5Z"></path>
        <rect class="top transform transition-all" x="4" y="5" width="16" height="2" rx="0.5" style="transform-origin: 50% 25%;"></rect>
        <rect class="bottom transform transition-all" x="4" y="17" width="16" height="2" rx="0.5" style="transform-origin: 50% 75%;"></rect>
      </svg>
    </div>
  </header>
</template>
<script lang="tsx" setup>
import { ref, onMounted, onUnmounted } from 'vue';
import { IconBrandRedux } from '@tabler/icons-vue';
const isScroll = ref(true);
const navOffset = 1;

const handleScroll = () => {
  isScroll.value = window.scrollY > navOffset ? false : true;
  console.log(isScroll);
};

onMounted(() => {
  window.addEventListener('scroll', handleScroll);
});
 
onUnmounted(() => {
  window.removeEventListener('scroll', handleScroll);
});

</script>
